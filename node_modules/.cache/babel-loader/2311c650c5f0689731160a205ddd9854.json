{"ast":null,"code":"// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport { __extends } from \"tslib\";\nimport { BaseRequestPolicy } from \"./requestPolicy\";\nexport function logPolicy(logger) {\n  if (logger === void 0) {\n    logger = console.log;\n  }\n  return {\n    create: function (nextPolicy, options) {\n      return new LogPolicy(nextPolicy, options, logger);\n    }\n  };\n}\nvar LogPolicy = /** @class */function (_super) {\n  __extends(LogPolicy, _super);\n  function LogPolicy(nextPolicy, options, logger) {\n    if (logger === void 0) {\n      logger = console.log;\n    }\n    var _this = _super.call(this, nextPolicy, options) || this;\n    _this.logger = logger;\n    return _this;\n  }\n  LogPolicy.prototype.sendRequest = function (request) {\n    var _this = this;\n    return this._nextPolicy.sendRequest(request).then(function (response) {\n      return logResponse(_this, response);\n    });\n  };\n  return LogPolicy;\n}(BaseRequestPolicy);\nexport { LogPolicy };\nfunction logResponse(policy, response) {\n  policy.logger(\">> Request: \" + JSON.stringify(response.request, undefined, 2));\n  policy.logger(\">> Response status code: \" + response.status);\n  var responseBody = response.bodyAsText;\n  policy.logger(\">> Body: \" + responseBody);\n  return Promise.resolve(response);\n}","map":{"version":3,"names":["BaseRequestPolicy","logPolicy","logger","console","log","create","nextPolicy","options","LogPolicy","_super","__extends","_this","call","prototype","sendRequest","request","_nextPolicy","then","response","logResponse","policy","JSON","stringify","undefined","status","responseBody","bodyAsText","Promise","resolve"],"sources":["../../../lib/policies/logPolicy.ts"],"sourcesContent":[null],"mappings":"AAAA;AACA;;AAIA,SACEA,iBAAiB,QAIZ,iBAAiB;AAExB,OAAM,SAAUC,SAASA,CAACC,MAAyB;EAAzB,IAAAA,MAAA;IAAAA,MAAA,GAAcC,OAAO,CAACC,GAAG;EAAA;EACjD,OAAO;IACLC,MAAM,EAAE,SAAAA,CAACC,UAAyB,EAAEC,OAAiC;MACnE,OAAO,IAAIC,SAAS,CAACF,UAAU,EAAEC,OAAO,EAAEL,MAAM,CAAC;IACnD;GACD;AACH;AAEA,IAAAM,SAAA,0BAAAC,MAAA;EAA+BC,SAAA,CAAAF,SAAA,EAAAC,MAAA;EAG7B,SAAAD,UACEF,UAAyB,EACzBC,OAAiC,EACjCL,MAAyB;IAAzB,IAAAA,MAAA;MAAAA,MAAA,GAAcC,OAAO,CAACC,GAAG;IAAA;IAH3B,IAAAO,KAAA,GAKEF,MAAA,CAAAG,IAAA,OAAMN,UAAU,EAAEC,OAAO,CAAC;IAC1BI,KAAI,CAACT,MAAM,GAAGA,MAAM;;EACtB;EAEOM,SAAA,CAAAK,SAAA,CAAAC,WAAW,GAAlB,UAAmBC,OAAwB;IAA3C,IAAAJ,KAAA;IACE,OAAO,IAAI,CAACK,WAAW,CAACF,WAAW,CAACC,OAAO,CAAC,CAACE,IAAI,CAAC,UAACC,QAAQ;MAAK,OAAAC,WAAW,CAACR,KAAI,EAAEO,QAAQ,CAAC;IAA3B,CAA2B,CAAC;EAC9F,CAAC;EACH,OAAAV,SAAC;AAAD,CAAC,CAf8BR,iBAAiB;;AAiBhD,SAASmB,WAAWA,CAClBC,MAAiB,EACjBF,QAA+B;EAE/BE,MAAM,CAAClB,MAAM,CAAC,iBAAemB,IAAI,CAACC,SAAS,CAACJ,QAAQ,CAACH,OAAO,EAAEQ,SAAS,EAAE,CAAC,CAAG,CAAC;EAC9EH,MAAM,CAAClB,MAAM,CAAC,8BAA4BgB,QAAQ,CAACM,MAAQ,CAAC;EAC5D,IAAMC,YAAY,GAAGP,QAAQ,CAACQ,UAAU;EACxCN,MAAM,CAAClB,MAAM,CAAC,cAAYuB,YAAc,CAAC;EACzC,OAAOE,OAAO,CAACC,OAAO,CAACV,QAAQ,CAAC;AAClC","ignoreList":[]},"metadata":{},"sourceType":"module"}