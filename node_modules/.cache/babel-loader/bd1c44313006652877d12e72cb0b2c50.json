{"ast":null,"code":"// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport { HttpHeaders, isHttpHeadersLike } from \"./httpHeaders\";\nimport { Serializer } from \"./serializer\";\nimport { generateUuid } from \"./util/utils\";\nexport function isWebResourceLike(object) {\n  if (typeof object !== \"object\") {\n    return false;\n  }\n  if (typeof object.url === \"string\" && typeof object.method === \"string\" && typeof object.headers === \"object\" && isHttpHeadersLike(object.headers) && typeof object.validateRequestProperties === \"function\" && typeof object.prepare === \"function\" && typeof object.clone === \"function\") {\n    return true;\n  }\n  return false;\n}\n/**\n * Creates a new WebResource object.\n *\n * This class provides an abstraction over a REST call by being library / implementation agnostic and wrapping the necessary\n * properties to initiate a request.\n *\n * @constructor\n */\nvar WebResource = /** @class */function () {\n  function WebResource(url, method, body, query, headers, streamResponseBody, withCredentials, abortSignal, timeout, onUploadProgress, onDownloadProgress, proxySettings, keepAlive, agentSettings, redirectLimit) {\n    this.streamResponseBody = streamResponseBody;\n    this.url = url || \"\";\n    this.method = method || \"GET\";\n    this.headers = isHttpHeadersLike(headers) ? headers : new HttpHeaders(headers);\n    this.body = body;\n    this.query = query;\n    this.formData = undefined;\n    this.withCredentials = withCredentials || false;\n    this.abortSignal = abortSignal;\n    this.timeout = timeout || 0;\n    this.onUploadProgress = onUploadProgress;\n    this.onDownloadProgress = onDownloadProgress;\n    this.proxySettings = proxySettings;\n    this.keepAlive = keepAlive;\n    this.agentSettings = agentSettings;\n    this.redirectLimit = redirectLimit;\n  }\n  /**\n   * Validates that the required properties such as method, url, headers[\"Content-Type\"],\n   * headers[\"accept-language\"] are defined. It will throw an error if one of the above\n   * mentioned properties are not defined.\n   */\n  WebResource.prototype.validateRequestProperties = function () {\n    if (!this.method) {\n      throw new Error(\"WebResource.method is required.\");\n    }\n    if (!this.url) {\n      throw new Error(\"WebResource.url is required.\");\n    }\n  };\n  /**\n   * Prepares the request.\n   * @param {RequestPrepareOptions} options Options to provide for preparing the request.\n   * @returns {WebResource} Returns the prepared WebResource (HTTP Request) object that needs to be given to the request pipeline.\n   */\n  WebResource.prototype.prepare = function (options) {\n    if (!options) {\n      throw new Error(\"options object is required\");\n    }\n    if (options.method == undefined || typeof options.method.valueOf() !== \"string\") {\n      throw new Error(\"options.method must be a string.\");\n    }\n    if (options.url && options.pathTemplate) {\n      throw new Error(\"options.url and options.pathTemplate are mutually exclusive. Please provide exactly one of them.\");\n    }\n    if ((options.pathTemplate == undefined || typeof options.pathTemplate.valueOf() !== \"string\") && (options.url == undefined || typeof options.url.valueOf() !== \"string\")) {\n      throw new Error(\"Please provide exactly one of options.pathTemplate or options.url.\");\n    }\n    // set the url if it is provided.\n    if (options.url) {\n      if (typeof options.url !== \"string\") {\n        throw new Error('options.url must be of type \"string\".');\n      }\n      this.url = options.url;\n    }\n    // set the method\n    if (options.method) {\n      var validMethods = [\"GET\", \"PUT\", \"HEAD\", \"DELETE\", \"OPTIONS\", \"POST\", \"PATCH\", \"TRACE\"];\n      if (validMethods.indexOf(options.method.toUpperCase()) === -1) {\n        throw new Error('The provided method \"' + options.method + '\" is invalid. Supported HTTP methods are: ' + JSON.stringify(validMethods));\n      }\n    }\n    this.method = options.method.toUpperCase();\n    // construct the url if path template is provided\n    if (options.pathTemplate) {\n      var pathTemplate_1 = options.pathTemplate,\n        pathParameters_1 = options.pathParameters;\n      if (typeof pathTemplate_1 !== \"string\") {\n        throw new Error('options.pathTemplate must be of type \"string\".');\n      }\n      if (!options.baseUrl) {\n        options.baseUrl = \"https://management.azure.com\";\n      }\n      var baseUrl = options.baseUrl;\n      var url_1 = baseUrl + (baseUrl.endsWith(\"/\") ? \"\" : \"/\") + (pathTemplate_1.startsWith(\"/\") ? pathTemplate_1.slice(1) : pathTemplate_1);\n      var segments = url_1.match(/({\\w*\\s*\\w*})/gi);\n      if (segments && segments.length) {\n        if (!pathParameters_1) {\n          throw new Error(\"pathTemplate: \" + pathTemplate_1 + \" has been provided. Hence, options.pathParameters must also be provided.\");\n        }\n        segments.forEach(function (item) {\n          var pathParamName = item.slice(1, -1);\n          var pathParam = pathParameters_1[pathParamName];\n          if (pathParam === null || pathParam === undefined || !(typeof pathParam === \"string\" || typeof pathParam === \"object\")) {\n            throw new Error(\"pathTemplate: \" + pathTemplate_1 + \" contains the path parameter \" + pathParamName + (\" however, it is not present in \" + pathParameters_1 + \" - \" + JSON.stringify(pathParameters_1, undefined, 2) + \".\") + (\"The value of the path parameter can either be a \\\"string\\\" of the form { \" + pathParamName + \": \\\"some sample value\\\" } or \") + (\"it can be an \\\"object\\\" of the form { \\\"\" + pathParamName + \"\\\": { value: \\\"some sample value\\\", skipUrlEncoding: true } }.\"));\n          }\n          if (typeof pathParam.valueOf() === \"string\") {\n            url_1 = url_1.replace(item, encodeURIComponent(pathParam));\n          }\n          if (typeof pathParam.valueOf() === \"object\") {\n            if (!pathParam.value) {\n              throw new Error(\"options.pathParameters[\" + pathParamName + \"] is of type \\\"object\\\" but it does not contain a \\\"value\\\" property.\");\n            }\n            if (pathParam.skipUrlEncoding) {\n              url_1 = url_1.replace(item, pathParam.value);\n            } else {\n              url_1 = url_1.replace(item, encodeURIComponent(pathParam.value));\n            }\n          }\n        });\n      }\n      this.url = url_1;\n    }\n    // append query parameters to the url if they are provided. They can be provided with pathTemplate or url option.\n    if (options.queryParameters) {\n      var queryParameters = options.queryParameters;\n      if (typeof queryParameters !== \"object\") {\n        throw new Error(\"options.queryParameters must be of type object. It should be a JSON object \" + \"of \\\"query-parameter-name\\\" as the key and the \\\"query-parameter-value\\\" as the value. \" + \"The \\\"query-parameter-value\\\" may be fo type \\\"string\\\" or an \\\"object\\\" of the form { value: \\\"query-parameter-value\\\", skipUrlEncoding: true }.\");\n      }\n      // append question mark if it is not present in the url\n      if (this.url && this.url.indexOf(\"?\") === -1) {\n        this.url += \"?\";\n      }\n      // construct queryString\n      var queryParams = [];\n      // We need to populate this.query as a dictionary if the request is being used for Sway's validateRequest().\n      this.query = {};\n      for (var queryParamName in queryParameters) {\n        var queryParam = queryParameters[queryParamName];\n        if (queryParam) {\n          if (typeof queryParam === \"string\") {\n            queryParams.push(queryParamName + \"=\" + encodeURIComponent(queryParam));\n            this.query[queryParamName] = encodeURIComponent(queryParam);\n          } else if (typeof queryParam === \"object\") {\n            if (!queryParam.value) {\n              throw new Error(\"options.queryParameters[\" + queryParamName + \"] is of type \\\"object\\\" but it does not contain a \\\"value\\\" property.\");\n            }\n            if (queryParam.skipUrlEncoding) {\n              queryParams.push(queryParamName + \"=\" + queryParam.value);\n              this.query[queryParamName] = queryParam.value;\n            } else {\n              queryParams.push(queryParamName + \"=\" + encodeURIComponent(queryParam.value));\n              this.query[queryParamName] = encodeURIComponent(queryParam.value);\n            }\n          }\n        }\n      } // end-of-for\n      // append the queryString\n      this.url += queryParams.join(\"&\");\n    }\n    // add headers to the request if they are provided\n    if (options.headers) {\n      var headers = options.headers;\n      for (var _i = 0, _a = Object.keys(options.headers); _i < _a.length; _i++) {\n        var headerName = _a[_i];\n        this.headers.set(headerName, headers[headerName]);\n      }\n    }\n    // ensure accept-language is set correctly\n    if (!this.headers.get(\"accept-language\")) {\n      this.headers.set(\"accept-language\", \"en-US\");\n    }\n    // ensure the request-id is set correctly\n    if (!this.headers.get(\"x-ms-client-request-id\") && !options.disableClientRequestId) {\n      this.headers.set(\"x-ms-client-request-id\", generateUuid());\n    }\n    // default\n    if (!this.headers.get(\"Content-Type\")) {\n      this.headers.set(\"Content-Type\", \"application/json; charset=utf-8\");\n    }\n    // set the request body. request.js automatically sets the Content-Length request header, so we need not set it explicilty\n    this.body = options.body;\n    if (options.body != undefined) {\n      // body as a stream special case. set the body as-is and check for some special request headers specific to sending a stream.\n      if (options.bodyIsStream) {\n        if (!this.headers.get(\"Transfer-Encoding\")) {\n          this.headers.set(\"Transfer-Encoding\", \"chunked\");\n        }\n        if (this.headers.get(\"Content-Type\") !== \"application/octet-stream\") {\n          this.headers.set(\"Content-Type\", \"application/octet-stream\");\n        }\n      } else {\n        if (options.serializationMapper) {\n          this.body = new Serializer(options.mappers).serialize(options.serializationMapper, options.body, \"requestBody\");\n        }\n        if (!options.disableJsonStringifyOnBody) {\n          this.body = JSON.stringify(options.body);\n        }\n      }\n    }\n    this.abortSignal = options.abortSignal;\n    this.onDownloadProgress = options.onDownloadProgress;\n    this.onUploadProgress = options.onUploadProgress;\n    this.redirectLimit = options.redirectLimit;\n    this.streamResponseBody = options.streamResponseBody;\n    return this;\n  };\n  /**\n   * Clone this WebResource HTTP request object.\n   * @returns {WebResource} The clone of this WebResource HTTP request object.\n   */\n  WebResource.prototype.clone = function () {\n    var result = new WebResource(this.url, this.method, this.body, this.query, this.headers && this.headers.clone(), this.streamResponseBody, this.withCredentials, this.abortSignal, this.timeout, this.onUploadProgress, this.onDownloadProgress, this.proxySettings, this.keepAlive, this.agentSettings, this.redirectLimit);\n    if (this.formData) {\n      result.formData = this.formData;\n    }\n    if (this.operationSpec) {\n      result.operationSpec = this.operationSpec;\n    }\n    if (this.shouldDeserialize) {\n      result.shouldDeserialize = this.shouldDeserialize;\n    }\n    if (this.operationResponseGetter) {\n      result.operationResponseGetter = this.operationResponseGetter;\n    }\n    return result;\n  };\n  return WebResource;\n}();\nexport { WebResource };","map":{"version":3,"names":["HttpHeaders","isHttpHeadersLike","Serializer","generateUuid","isWebResourceLike","object","url","method","headers","validateRequestProperties","prepare","clone","WebResource","body","query","streamResponseBody","withCredentials","abortSignal","timeout","onUploadProgress","onDownloadProgress","proxySettings","keepAlive","agentSettings","redirectLimit","formData","undefined","prototype","Error","options","valueOf","pathTemplate","validMethods","indexOf","toUpperCase","JSON","stringify","pathTemplate_1","pathParameters_1","pathParameters","baseUrl","url_1","endsWith","startsWith","slice","segments","match","length","forEach","item","pathParamName","pathParam","replace","encodeURIComponent","value","skipUrlEncoding","queryParameters","queryParams","queryParamName","queryParam","push","join","_i","_a","Object","keys","headerName","set","get","disableClientRequestId","bodyIsStream","serializationMapper","mappers","serialize","disableJsonStringifyOnBody","result","operationSpec","shouldDeserialize","operationResponseGetter"],"sources":["../../lib/webResource.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}